<!DOCTYPE html>
<html lang="ar">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3032189625676969"
     crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-3032189625676969">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baroshka Sa'din Market</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">

     <style>
        /* تعريف الخط */
        @font-face {
            font-family: 'Rudaw Bold'; /* اسم تختاره للخط */
            src: url('rudawbold.ttf') format('truetype'); /* المسار إلى ملف الخط */
            font-weight: bold; /* تحديد إذا كان الخط عريضًا */
            font-style: normal;
        }

        /* تطبيق الخط على النص العربي */
        .custom-font {
            font-family: 'Rudaw Bold', sans-serif;
            font-size: 18px;
            direction: rtl;
        }
    </style>
</head>
<body>

<header>
    <h1>Baroshka Sa'din Market</h1>
    <nav>
        <a href="#prices">Prices</a>
        <a href="#weather">Weather</a>
        <a href="#upload-gallery">Gallery</a>
        <a href="#map">Map</a>
    </nav>
</header>

<!-- Replace the existing marquee with this -->
<div class="marquee-container">
    <div class="marquee-content">
         <p class="custom-font">
            کارتین  {5,000-1,000-3,000-10,000}ک ورەک زین ئاسیا فاستلینک نه وروز وئایتونس وگوگل پله ی و یووسییت پوپجیی و کونویت تیکتوکی هه می به ردەستن
        </p>
    </div>
</div>

<style>
.marquee-container {
    overflow: hidden;
    white-space: nowrap;
    width: 100%;
    background: #f0f0f0; /* Optional background color */
    padding: 10px 0;
}

.marquee-content {
    display: inline-block;
    animation: marquee 55s linear infinite;
    padding-left: 100%; /* Initial offset */
}

.marquee-content:hover {
    animation-play-state: paused;
}

@keyframes marquee {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-100%);
    }
}
</style>

<!-- Add this after the marquee -->
<section id="post-items">
<style>
  :root {
    --primary-color: #2563eb;
    --secondary-color: #1e40af;
    --danger-color: #dc2626;
    --success-color: #16a34a;
    --text-color: #1e293b;
    --background-color: #f8fafc;
  }

  .center-text {
    text-align: center;
    margin-bottom: 2rem;
  }

  .auth-container {
    max-width: 600px;
    margin: 2rem auto;
    padding: 2rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  #item-form {
    display: grid;
    gap: 1.5rem;
    max-width: 500px;
    margin: 0 auto;
  }

  .form-title {
    font-family: 'Segoe UI', sans-serif;
    color: var(--text-color);
    margin-bottom: 1.5rem;
    font-size: 2rem;
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .form-input {
    width: 100%;
    padding: 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 8px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
  }

  .form-input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }

  .submit-btn {
    background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 1rem 2rem;
    border: none;
    border-radius: 8px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .submit-btn:hover {
    transform: translateY(-2px);
  }

  .items-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
    padding: 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  .item-card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
  }

  .item-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.1);
  }

  .item-image {
    width: 100%;
    height: 250px;
    object-fit: cover;
    border-bottom: 3px solid #e2e8f0;
  }

  .item-info {
    padding: 1.5rem;
  }

  .item-price {
    color: var(--success-color);
    font-weight: 700;
    font-size: 1.25rem;
    margin: 0.5rem 0;
  }

  .delete-btn {
    background: var(--danger-color);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: background 0.3s ease;
    width: 100%;
    margin-top: 1rem;
  }

  .delete-btn:hover {
    background: #b91c1c;
  }

  .post-date {
    color: #64748b;
    font-size: 0.9rem;
    display: block;
    margin-top: 0.5rem;
  }

  @media (max-width: 768px) {
    .items-grid {
      grid-template-columns: 1fr;
      padding: 1rem;
    }
    
    .auth-container {
      margin: 1rem;
      padding: 1.5rem;
    }
  }
</style>

<div class="auth-container">

<style>
  .center-text {
    text-align: center;
  }
</style>

<div class="center-text">
  <h2 class="form-title">NEW ITEMS</h2>
  <form id="item-form">
    <input type="text" id="item-name" class="form-input" placeholder="Item Name" required>
    <textarea id="item-description" class="form-input" placeholder="Item Description" rows="3" required></textarea>
    <input type="number" id="item-price" class="form-input" placeholder="Price in IQD" required>
    <input type="file" id="item-image" class="form-input" accept="image/*" required>
    <button type="submit" class="submit-btn">Post Item</button>
  </form>
</div>

<div class="auth-container">

<style>
  .center-text {
    text-align: center;
  }
</style>

<div class="center-text">
  <h3 class="form-title">MARKET POSTS</h3>
  <div id="items-list" class="items-grid"></div>
</div>

<script>
    
// Replace the form submit handler
document.getElementById('item-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const password = prompt('Enter admin password:');
    if (password !== POST_PASSWORD) {
        alert('⚠️ Incorrect password!');
        return;
    }

    const formData = new FormData();
    formData.append('name', document.getElementById('item-name').value);
    formData.append('description', document.getElementById('item-description').value);
    formData.append('price', document.getElementById('item-price').value);
    formData.append('image', document.getElementById('item-image').files[0]);
    formData.append('password', password);

    try {
        const response = await fetch('add_item.php', {
            method: 'POST',
            body: formData
        });
        
        if (!response.ok) throw new Error('Upload failed');
        displayItems();
        this.reset();
        alert('✅ Item posted successfully!');
    } catch (error) {
        alert('Error: ' + error.message);
    }
});

// Update displayItems
async function displayItems() {
    try {
        const response = await fetch('get_items.php');
        const items = await response.json();
        const container = document.getElementById('items-list');
        container.innerHTML = '';

        items.forEach(item => {
            const itemCard = document.createElement('div');
            itemCard.className = 'item-card';
            itemCard.innerHTML = `
                <img src="${item.image_path}" class="item-image" alt="${item.name}">
                <div class="item-info">
                    <h4>${item.name}</h4>
                    <p>${item.description}</p>
                    <div class="item-price">${Number(item.price).toLocaleString()} IQD</div>
                    <small class="post-date">Posted: ${item.date}</small>
                    <button class="delete-btn" onclick="deleteItem(${item.id})">Delete Item</button>
                </div>
            `;
            container.appendChild(itemCard);
        });
    } catch (error) {
        console.error('Error loading items:', error);
    }
}

// Update deleteItem
async function deleteItem(id) {
    const password = prompt('Enter admin password to delete:');
    if (password !== POST_PASSWORD) {
        alert('⚠️ Incorrect password!');
        return;
    }

    if (!confirm('Are you sure you want to delete this item?')) return;

    try {
        const response = await fetch('delete_item.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: `id=${id}&password=${encodeURIComponent(password)}`
        });
        
        if (!response.ok) throw new Error('Delete failed');
        displayItems();
        alert('🗑️ Item deleted successfully!');
    } catch (error) {
        alert('Error: ' + error.message);
    }
}
</script>

</section>

<!-- Add this after the marquee -->
<section>
 <?php include "form.php"?>
    </section>

<section id="prices">
<style>
  .center-text {
    text-align: center;
  }
</style>

<div class="center-text">
    <h2>Today's Market Prices</h2>
    <div class="price-table-container">
        <table>
            <tr>
                <th>Barham</th>
                <th>Bha</th>
            </tr>
            <tr>
                <td>xiar (1kilo)</td>
                <td>1,250</td>
            </tr>
            <tr>
                <td>bajank (1kilo)</td>
                <td>1,250</td>
            </tr>
            <tr>
                <td>pivaz (1kilo)</td>
                <td>1,000</td>
            </tr>
            <tr>
                <td>dll</td>
                <td>2,000</td>
            </tr>
            <tr>
                <td>melak</td>
                <td>3,500</td>
            </tr>
            <tr>
                <td>singe behasti(2kilo)</td>
                <td>12,000</td>
            </tr>
            <tr>
                <td>singe bhasti(1kilo)</td>
                <td>4,000</td>
            </tr>
            <tr>
                <td>chang(1kilo)</td>
                <td>4,000</td>
            </tr>
        </table>
    </div>
</section>

<section id="weather">
    <div class="weather-container">
<style>
  .center-text {
    text-align: center;
  }
</style>

<div class="center-text">
        <h2>Baroshke Weather</h2>
        <div class="weather-details">
            <!-- Weather cards will be dynamically inserted here -->
        </div>
    </div>
</section>

<section id="upload-gallery">
   
</section>

<section id="map">

<style>
  .center-text {
    text-align: center;
  }
</style>

<div class="center-text">
    <h2>Nav U Nishan</h2>
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d676.2694218434772!2d43.07738791773344!3d37.06669808670068!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4008c30061a3ec1f%3A0x76d2ec4e6d152d4f!2z2KjblSDYsdmI2LTaqdin2LPYudiv24zZhiDZhdin2LHZg9uO2Ko!5e0!3m2!1sar!2siq!4v1742573259399!5m2!1sar!2siq" 
            width="100%" 
            height="500" 
            style="border:0;" 
            allowfullscreen="" 
            loading="lazy" 
            referrerpolicy="no-referrer-when-downgrade">
    </iframe>
</section>

<section id="visitor-counter">
    <h2>Visitor Counter</h2>
    <p>Total Visitors: <span id="total-visitors">0</span></p>
    <p>Online Now: <span id="online-count">0</span></p>
</section>

<footer>
    <div class="footer-content">
        <h2>About Us & Location</h2>
        <p>Welcome to Baroshka Sa'din Market! We offer a wide variety of fresh produce, groceries, and household items at competitive prices. Our mission is to provide quality products and excellent customer service to our community.</p>
        <p>We are located at Baste Road, Duhok, Iraq. Come visit us for all your shopping needs!</p>
        <p>Email: <a href="mailto:baroshkasaadinmarket@gmail.com">baroshkasaadinmarket@gmail.com</a></p>
        <p>Phone: <a href="tel:+9647518865929">+9647518865929</a></p>
    </div>
    <p>&copy; 2025 Baroshka Sa'din Market. All rights reserved.</p>
</footer>

<script src="script.js"></script>
</body>
</html>
